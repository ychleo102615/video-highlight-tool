# Feature Specification: Presentation Layer Development

**Feature Branch**: `004-presentation-layer`
**Created**: 2025-11-01
**Status**: Draft
**Input**: User description: "參考 @README.md @REQUIREMENTS.md @TECHNICAL_DESIGN.md 接下來我們要開發 REQUIREMENT 中，### Phase 5: Presentation Layer 開發。記得我們使用的是 Tailwind v4。"

## Clarifications

### Session 2025-11-01

- Q: 主色調與品牌色系統 - 為了建立一致的視覺語言，應用的主色調應該使用哪個色系？ → A: 藍色系（#3B82F6 附近）- 專業穩重，視頻工具常用，對比度佳
- Q: 視覺狀態差異化 - 編輯區句子的視覺狀態（未選中、選中、AI 建議、播放中）應如何區分？ → A: 採用邊框 + 背景組合方式，不區分 AI 建議與選中句子。AI 回覆時立刻建立預設高光（AI 建議的句子直接設為選中狀態），只需區分：未選中、選中、播放中三種狀態
- Q: 文字疊加的位置與樣式 - 預覽區播放時，轉錄文字疊加在視頻上的位置和背景樣式？ → A: 底部居中 + 半透明黑底（bg-black/80）- 標準字幕位置，使用者熟悉，黑底白字對比度佳
- Q: 圖示系統 - 應用中的圖示（上傳、播放/暫停、時間戳等）應使用哪個圖示庫？ → A: Heroicons - Tailwind 官方圖示庫，與 Tailwind 完美整合，有 Vue 3 套件（@heroicons/vue），現代簡潔
- Q: 字體系統與字級階層 - 應用的字體系統（字級、行高、字重）應如何定義？ → A: Tailwind 預設字級 + 系統字體（font-sans）- 跨平台一致，無需額外載入，Tailwind 預設值經過優化

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 視頻上傳與初始化 (Priority: P1)

使用者需要上傳視頻文件並等待系統處理，這是使用整個工具的第一步，也是最基礎的功能。

**Why this priority**: 沒有視頻上傳功能，後續所有功能都無法使用。這是整個工作流程的入口點。

**Independent Test**: 可以獨立測試上傳功能，確認使用者能選擇視頻文件、看到上傳進度、並在上傳完成後看到視頻預覽。

**Acceptance Scenarios**:

1. **Given** 使用者在應用首頁，**When** 點擊上傳按鈕並選擇有效的視頻文件（MP4, MOV, WEBM），**Then** 系統顯示上傳進度並在完成後顯示視頻預覽
2. **Given** 使用者選擇了超過 100MB 的視頻文件，**When** 嘗試上傳，**Then** 系統顯示明確的錯誤訊息「文件大小超過 100MB 限制」
3. **Given** 使用者選擇了不支援的格式（如 AVI），**When** 嘗試上傳，**Then** 系統顯示錯誤訊息「不支援的視頻格式，請上傳 MP4、MOV 或 WEBM」
4. **Given** 視頻正在上傳中，**When** 使用者等待，**Then** 可以看到實時的上傳進度百分比

---

### User Story 2 - 瀏覽和選擇高光句子 (Priority: P1)

使用者需要在編輯區查看 AI 生成的轉錄內容（包含段落標題和句子），並能選擇或取消選擇句子來建立高光片段。

**Why this priority**: 這是核心編輯功能，沒有這個功能使用者無法建立自己的高光片段。

**Independent Test**: 可以獨立測試編輯區的顯示和互動，確認使用者能看到結構化的轉錄內容、能點擊句子切換選中狀態、能看到視覺反饋。

**Acceptance Scenarios**:

1. **Given** 視頻已上傳並處理完成，**When** 使用者查看編輯區，**Then** 看到按段落組織的轉錄內容，每個段落有標題，每個句子顯示時間戳（格式：MM:SS）
2. **Given** 視頻處理完成後，**When** 轉錄內容顯示，**Then** AI 建議的高光句子自動處於選中狀態（預設高光已建立）
3. **Given** 編輯區顯示轉錄內容，**When** 使用者點擊某個句子，**Then** 該句子的選中狀態切換（選中↔未選中），並有明顯的視覺標示（藍色左邊框 + 淺藍背景）
4. **Given** 使用者已選擇多個句子，**When** 再次點擊已選中的句子，**Then** 該句子取消選中，視覺標示移除

---

### User Story 3 - 預覽高光視頻 (Priority: P1)

使用者需要在預覽區看到編輯後的高光片段（非完整視頻），並能使用標準的播放控制（播放、暫停、拖動進度條）。

**Why this priority**: 預覽功能讓使用者能即時看到編輯結果，沒有預覽功能使用者無法確認自己的編輯是否符合預期。

**Independent Test**: 可以獨立測試預覽區的播放功能，確認使用者能播放選中的片段、能使用播放控制、片段切換流暢。

**Acceptance Scenarios**:

1. **Given** 使用者已選擇至少一個句子，**When** 點擊預覽區的播放按鈕，**Then** 視頻只播放選中句子的片段，跳過未選中的部分
2. **Given** 高光片段正在播放，**When** 播放到某個片段結束時，**Then** 自動跳轉到下一個選中片段的開始，過渡流暢（無明顯卡頓）
3. **Given** 高光片段正在播放，**When** 使用者點擊暫停按鈕，**Then** 視頻暫停在當前位置
4. **Given** 預覽區顯示視頻，**When** 使用者拖動進度條到某個時間點，**Then** 視頻跳轉到該時間點（如果不在選中片段內，跳轉到最近的選中片段起點）

---

### User Story 4 - 文字疊加同步顯示 (Priority: P2)

使用者在預覽視頻時，希望看到選中的句子以文字疊加的形式顯示在視頻上，且文字時間與音頻完全同步。

**Why this priority**: 這是增強使用者體驗的重要功能，但不影響核心編輯流程，可以在基礎功能完成後實作。

**Independent Test**: 可以獨立測試文字疊加功能，確認文字在正確的時間出現和消失、位置合適、清晰易讀。

**Acceptance Scenarios**:

1. **Given** 高光片段正在播放，**When** 播放到某個選中句子的時間範圍內，**Then** 該句子的文字疊加在視頻上，文字清晰易讀（有背景或陰影）
2. **Given** 文字疊加正在顯示，**When** 播放時間超出該句子的結束時間，**Then** 文字消失，並在進入下一個句子時顯示新的文字
3. **Given** 文字疊加出現或消失時，**When** 過渡發生，**Then** 有流暢的淡入淡出效果
4. **Given** 視頻正在播放，**When** 使用者觀看，**Then** 文字時間與視頻音頻精確同步（誤差 < 100ms）

---

### User Story 5 - 時間軸視覺化與導航 (Priority: P2)

使用者希望在預覽區看到一個時間軸，顯示所有選中的高光片段，並能點擊時間軸快速跳轉到特定片段。

**Why this priority**: 時間軸提供視覺化的片段分布，幫助使用者理解高光結構，但不是核心功能，可以後續添加。

**Independent Test**: 可以獨立測試時間軸組件，確認它能正確顯示選中片段的分布、支援點擊跳轉。

**Acceptance Scenarios**:

1. **Given** 使用者已選擇多個句子，**When** 查看預覽區時間軸，**Then** 時間軸顯示所有選中片段的時間範圍（如以不同顏色的區塊表示）
2. **Given** 時間軸顯示片段分布，**When** 使用者點擊某個片段區塊，**Then** 視頻跳轉到該片段的開始時間
3. **Given** 高光片段正在播放，**When** 播放進度更新，**Then** 時間軸上有一個進度指示器隨著播放移動
4. **Given** 使用者修改了句子選擇（新增或移除），**When** 選擇變更完成，**Then** 時間軸即時更新，反映新的片段分布

---

### User Story 6 - 編輯區與預覽區雙向同步 (Priority: P1)

使用者需要編輯區和預覽區之間的互動同步：點擊編輯區的時間戳時預覽區跳轉；預覽區播放時編輯區自動滾動並高亮當前句子。

**Why this priority**: 雙向同步是核心互動體驗，沒有這個功能使用者會覺得兩個區域是分離的，大幅降低可用性。

**Independent Test**: 可以獨立測試同步機制，確認編輯區→預覽區和預覽區→編輯區的同步都正常運作。

**Acceptance Scenarios**:

1. **Given** 編輯區顯示轉錄內容，**When** 使用者點擊某個句子的時間戳，**Then** 預覽區視頻跳轉到該時間戳對應的時間點
2. **Given** 高光片段正在預覽區播放，**When** 播放到某個句子的時間範圍內，**Then** 編輯區對應的句子高亮顯示（如背景色變化或邊框）
3. **Given** 高光片段正在播放且當前句子不在可見範圍內，**When** 播放進度更新，**Then** 編輯區自動滾動，使當前播放的句子保持在可見範圍內
4. **Given** 使用者在編輯區選擇或取消選擇句子，**When** 選擇狀態改變，**Then** 預覽區的時間軸和播放內容即時更新（延遲 < 200ms）

---

### User Story 7 - 響應式佈局 (Priority: P2)

使用者在不同設備（桌面、平板、手機）上使用應用時，希望佈局能自動調整以適應螢幕大小，確保良好的使用體驗。

**Why this priority**: 響應式設計是現代 Web 應用的標準要求，但可以在桌面版功能完成後再優化移動版體驗。

**Independent Test**: 可以獨立測試不同螢幕尺寸下的佈局，確認在桌面和移動設備上都能正常使用。

**Acceptance Scenarios**:

1. **Given** 使用者在桌面瀏覽器（螢幕寬度 > 1024px），**When** 打開應用，**Then** 看到左右分屏佈局（編輯區在左，預覽區在右）
2. **Given** 使用者在平板或手機（螢幕寬度 ≤ 768px），**When** 打開應用，**Then** 看到上下堆疊佈局（編輯區在上，預覽區在下）
3. **Given** 使用者在 iOS Safari，**When** 使用所有核心功能（上傳、編輯、預覽），**Then** 功能正常運作，無兼容性問題
4. **Given** 使用者在 Android Chrome，**When** 使用所有核心功能，**Then** 功能正常運作，無兼容性問題

---

### Edge Cases

- **視頻載入失敗**: 當視頻文件損壞或無法解碼時，系統應顯示友善的錯誤訊息「視頻載入失敗，請嘗試其他文件」
- **沒有選中任何句子**: 當使用者未選擇任何句子時，預覽區應顯示提示「請在編輯區選擇至少一個句子來建立高光片段」
- **選中的句子在時間上不連續**: 當選中的句子有時間間隔時，系統應正確跳過間隔部分，只播放選中片段
- **快速連續點擊句子**: 當使用者快速連續點擊多個句子時，UI 應能正確響應每次點擊，不會出現狀態錯誤或延遲
- **預覽區播放時修改選擇**: 當視頻正在播放時使用者修改句子選擇，系統應正確更新播放內容（可能需要暫停並重新載入片段列表）
- **拖動進度條到非選中區域**: 當使用者拖動到未選中的時間點時，系統應跳轉到最近的選中片段起點，而非顯示空白或錯誤
- **極長的轉錄內容**: 當轉錄內容包含數百個句子時，編輯區滾動和搜尋應保持流暢（考慮虛擬滾動優化）
- **移動設備的自動播放限制**: 在 iOS Safari 等瀏覽器上，視頻可能無法自動播放，需要使用者手動觸發播放
- **網絡中斷**: 當視頻上傳過程中網絡中斷，應顯示錯誤訊息並允許使用者重試
- **瀏覽器返回/重新整理**: 當使用者在編輯過程中刷新頁面，應提示「您有未儲存的編輯，確定要離開嗎？」（如果未來支援儲存功能）

## Requirements *(mandatory)*

### Functional Requirements

#### 視頻上傳模組

- **FR-001**: 系統必須提供視頻上傳介面，支援 MP4、MOV、WEBM 格式
- **FR-002**: 系統必須在上傳過程中顯示實時進度百分比
- **FR-003**: 系統必須驗證視頻文件大小不超過 100MB，超過時顯示明確錯誤訊息
- **FR-004**: 系統必須驗證視頻格式，不支援的格式顯示錯誤訊息「不支援的視頻格式，請上傳 MP4、MOV 或 WEBM」
- **FR-005**: 視頻上傳完成後，系統必須自動觸發 Mock AI 處理以生成轉錄內容

#### 編輯區模組

- **FR-006**: 編輯區必須以段落為單位組織顯示轉錄內容，每個段落顯示標題
- **FR-007**: 編輯區必須顯示每個句子及其時間戳，格式為 MM:SS
- **FR-008**: 使用者點擊句子時，系統必須切換該句子的選中狀態（選中↔未選中）
- **FR-009**: 選中的句子必須有明顯的視覺標示（藍色左邊框 + 淺藍背景 bg-blue-50）
- **FR-010**: 視頻處理完成後，系統必須自動將 AI 建議的高光句子設為選中狀態（建立預設高光）
- **FR-011**: 使用者點擊時間戳時，系統必須更新預覽區視頻時間軸到該時間點
- **FR-012**: 當預覽區播放時，編輯區必須高亮當前播放的句子（藍色粗邊框 + 深藍背景 bg-blue-100）
- **FR-013**: 當當前播放的句子不在可見範圍內時，編輯區必須自動滾動使其可見

#### 預覽區模組

- **FR-014**: 預覽區必須顯示視頻播放器，支援播放、暫停、進度條拖動控制
- **FR-015**: 視頻播放器必須只播放使用者選中的句子片段，跳過未選中部分
- **FR-016**: 片段切換延遲必須 < 100ms，使用者感知為流暢無卡頓
- **FR-017**: 使用者拖動進度條到非選中區域時，系統必須跳轉到最近的選中片段起點
- **FR-018**: 當沒有選中任何句子時，預覽區必須顯示提示訊息「請在編輯區選擇至少一個句子來建立高光片段」

#### 文字疊加模組

- **FR-019**: 預覽區播放時，系統必須在視頻上疊加顯示當前句子的文字
- **FR-020**: 疊加文字必須位於視頻底部居中位置，使用半透明黑色背景（bg-black/80）、白色文字（text-white），確保清晰易讀
- **FR-021**: 文字時間必須與視頻音頻精確同步（誤差 < 100ms）
- **FR-022**: 文字出現和消失時必須有淡入淡出過渡效果（300ms 過渡）

#### 時間軸模組

- **FR-023**: 預覽區必須顯示時間軸，視覺化呈現所有選中片段的時間分布
- **FR-024**: 時間軸上的片段區塊必須可點擊，點擊時視頻跳轉到該片段起點
- **FR-025**: 時間軸必須顯示播放進度指示器，隨著視頻播放移動
- **FR-026**: 當使用者修改句子選擇時，時間軸必須即時更新（延遲 < 200ms）

#### 雙向同步機制

- **FR-027**: 編輯區點擊時間戳時，預覽區視頻必須跳轉到對應時間點（延遲 < 100ms）
- **FR-028**: 編輯區修改句子選擇時，預覽區內容必須即時更新（延遲 < 200ms）
- **FR-029**: 預覽區播放時，編輯區當前句子必須高亮並自動滾動保持可見
- **FR-030**: 同步狀態必須通過統一的狀態管理機制（Pinia Store）維護

#### 響應式佈局

- **FR-031**: 桌面瀏覽器（螢幕寬度 > 1024px）必須顯示左右分屏佈局
- **FR-032**: 移動設備（螢幕寬度 ≤ 768px）必須顯示上下堆疊佈局
- **FR-033**: 系統必須在 Windows 和 Mac 的最新版 Chrome 上正常運作
- **FR-034**: 系統必須在 iOS 的最新版 Chrome 和 Safari 上正常運作
- **FR-035**: 系統必須在 Android 的最新版 Chrome 上正常運作

#### 錯誤處理與使用者反饋

- **FR-036**: 所有非同步操作（上傳、AI 處理）必須顯示載入狀態指示器
- **FR-037**: 錯誤發生時必須顯示友善的錯誤訊息，避免技術術語
- **FR-038**: 操作成功時必須提供視覺反饋（如 toast 通知或狀態變化）

### Key Entities

本階段主要是展示層開發，使用已在 Domain Layer 定義的 Entities：

- **Video**: 視頻實體，包含視頻文件、元數據（時長、尺寸）、URL
- **Transcript**: 轉錄聚合根，包含完整轉錄文字、段落列表
- **Section**: 轉錄段落，包含標題、句子列表
- **Sentence**: 轉錄句子，包含文字、時間範圍、是否為 AI 建議高光
- **Highlight**: 高光聚合根，管理選中的句子 ID 集合和選擇順序
- **TimeStamp**: 值物件，表示時間點（秒數），可格式化為 MM:SS
- **TimeRange**: 值物件，表示時間範圍（起始時間和結束時間）

### 展示層組件結構

#### Pinia Stores

- **videoStore**: 管理視頻上傳狀態、當前視頻實體、上傳進度
- **transcriptStore**: 管理轉錄內容、AI 處理狀態、當前播放句子 ID
- **highlightStore**: 管理當前高光、選中句子 ID 集合、高光版本列表

#### Vue 組件

- **SplitLayout.vue**: 響應式分屏佈局容器（左右或上下）
- **VideoUpload.vue**: 視頻上傳介面和進度顯示
- **EditingArea.vue**: 編輯區容器，管理滾動和同步
- **SectionList.vue**: 渲染所有段落和句子
- **SentenceItem.vue**: 單個句子的渲染和互動（選擇、時間戳點擊）
- **PreviewArea.vue**: 預覽區容器
- **VideoPlayer.vue**: 視頻播放器控制（使用 video.js）
- **TranscriptOverlay.vue**: 文字疊加層
- **Timeline.vue**: 高光時間軸視覺化

#### Composables

- **useVideoUpload**: 封裝視頻上傳邏輯和狀態
- **useTranscript**: 封裝轉錄查詢和同步邏輯
- **useHighlight**: 封裝高光選擇和查詢邏輯
- **useVideoPlayer**: 封裝視頻播放器控制邏輯（片段播放、同步）

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 使用者能在 30 秒內完成視頻上傳（100MB 以內的文件，本地環境測試，無網絡延遲）
- **SC-002**: 句子選擇操作的響應時間低於 50ms（從點擊到視覺反饋）
- **SC-003**: 預覽區內容更新延遲低於 200ms（從編輯區修改選擇到預覽更新）
- **SC-004**: 視頻片段切換時的卡頓感低於 100ms（使用者感知為流暢）
- **SC-005**: 文字疊加與音頻的同步誤差低於 100ms
- **SC-006**: 編輯區自動滾動能在 100ms 內完成，使用者感知為即時
- **SC-007**: 時間軸點擊跳轉的響應時間低於 100ms
- **SC-008**: 應用在桌面瀏覽器上的首次內容繪製（FCP）低於 1.5 秒
- **SC-009**: 應用在移動設備上的最大內容繪製（LCP）低於 2.5 秒
- **SC-010**: 90% 的使用者能在首次使用時成功完成「上傳視頻→選擇句子→預覽高光」的完整流程，無需外部協助
- **SC-011**: 編輯區和預覽區的雙向同步正確率達到 100%（無狀態不一致）
- **SC-012**: 應用在所有目標平台（Windows/Mac Chrome, iOS Chrome/Safari, Android Chrome）上的功能可用率達到 100%
- **SC-013**: 使用者能在 5 秒內理解如何使用編輯區選擇句子（透過直觀的 UI 和視覺反饋）
- **SC-014**: 時間軸能清晰呈現片段分布，使用者能一眼看出高光結構

### User Experience Criteria

- **SC-015**: 所有互動操作都有明確的視覺反饋（hover, active, selected 狀態）
- **SC-016**: 錯誤訊息清晰易懂，避免技術術語，提供可行的解決建議
- **SC-017**: 移動設備上的觸控目標大小至少為 44x44px，易於點擊
- **SC-018**: 應用使用 Tailwind 預設系統字體堆疊（font-sans），正文使用 text-base（16px），確保在所有目標平台上的可讀性
- **SC-019**: 色彩對比度符合 WCAG AA 標準（文字對比度至少 4.5:1）
- **SC-020**: 動畫和過渡時間適中（100-300ms），不會讓使用者感到等待或突兀

## Assumptions

1. **Tailwind v4 設定**: 假設專案已正確配置 Tailwind CSS v4，包含必要的設定檔和建置流程
2. **Domain 和 Application Layer 已完成**: 假設 Phase 2-4 的 Entity、Use Case、Repository 實作已完成並可用
3. **Mock AI Service 可用**: 假設 MockAIService 已實作並能返回合理的轉錄數據
4. **video.js 版本**: 假設使用 video.js ^8.0.0，與專案技術棧規劃一致
5. **Naive UI 組件庫**: 假設使用 Naive UI ^2.40.0 提供基礎 UI 組件（按鈕、進度條、通知等）
6. **瀏覽器支援**: 假設目標瀏覽器支援 ES2020+ 語法和現代 Web API（如 File API, IndexedDB）
7. **視頻編碼**: 假設使用者上傳的視頻已正確編碼，瀏覽器能直接播放（無需轉碼）
8. **單一高光版本**: 此階段只實作單一高光版本，多版本管理留待後續階段
9. **無需後端**: 所有功能在前端完成，不需要後端 API 或資料庫
10. **預設排序方式**: 高光片段預設按時間順序播放（非選擇順序），排序切換功能可在後續階段添加

## Dependencies

1. **Phase 2-4 完成**: 必須完成 Domain Layer, Application Layer, Infrastructure Layer 的開發
2. **依賴注入設定**: 需要設定 DI Container，將 Use Case 和 Repository 注入到 Presentation Layer
3. **Pinia 設定**: 需要在專案中配置 Pinia 作為狀態管理工具
4. **video.js 安裝**: 需要安裝 video.js 和相關類型定義
5. **Tailwind v4 設定**: 需要確認 Tailwind CSS v4 已正確配置並能在 Vue 組件中使用
6. **Naive UI 設定**: 需要安裝並配置 Naive UI 組件庫
7. **Heroicons 安裝**: 需要安裝 @heroicons/vue（Vue 3 版本）作為圖示系統

## Out of Scope

以下功能不在本階段範圍內，可在後續階段實作：

1. **高光匯出功能**: 將編輯後的高光視頻匯出為新的視頻文件
2. **多個高光版本管理**: 為同一個視頻建立和管理多個不同的高光版本
3. **使用者帳號系統**: 登入、註冊、權限管理
4. **雲端儲存**: 將視頻和高光儲存到雲端服務
5. **分享功能**: 生成分享連結或嵌入代碼
6. **協作編輯**: 多人同時編輯同一個高光
7. **進階視頻編輯**: 調整播放速度、添加濾鏡、裁切視頻
8. **自訂文字疊加樣式**: 讓使用者自訂字體、顏色、位置、動畫
9. **鍵盤快捷鍵**: 使用鍵盤快速控制播放、選擇句子等
10. **無障礙輔助功能**: 螢幕閱讀器支援、鍵盤導航優化（基本的無障礙性仍需考慮，但進階功能不在此階段）
11. **離線支援**: PWA 和 Service Worker 實作
12. **分析和統計**: 使用行為追蹤、效能監控

## Notes

### Visual Design System

- **主色調**: 藍色系（Tailwind blue-500: #3B82F6）用於主要互動元素（按鈕、連結、選中狀態）
- **輔助色**:
  - 成功/確認: 綠色系（green-500）
  - 警告: 黃色系（yellow-500）
  - 錯誤: 紅色系（red-500）
  - 資訊提示: 藍色系（與主色調一致）
- **中性色**: 使用 Tailwind 的 slate 色系作為文字和背景的基礎

**編輯區句子視覺狀態**：
- **未選中**: 無邊框，白色背景（bg-white）
- **選中**: 左側藍色邊框（border-l-4 border-blue-500）+ 淺藍背景（bg-blue-50）
- **播放中**: 左側藍色粗邊框（border-l-4 border-blue-600）+ 深藍背景（bg-blue-100）
- **AI 預設高光**: AI 處理完成後，建議的高光句子自動設為「選中」狀態，視覺上與使用者手動選中相同

**文字疊加樣式**：
- **位置**: 視頻底部居中，距離底部約 5-10% 視頻高度
- **背景**: 半透明黑色（bg-black/80）
- **文字**: 白色（text-white），字級 text-lg（18px），行高適中（leading-relaxed）
- **內邊距**: 水平 px-6，垂直 py-3
- **圓角**: rounded-lg（避免過於生硬）
- **過渡**: 淡入淡出 300ms（opacity transition）
- **最大寬度**: 80% 視頻寬度，避免文字過長換行過多

**圖示系統**：
- **圖示庫**: Heroicons（@heroicons/vue）
- **風格**: 優先使用 Outline 風格（輪廓），Solid 風格（實心）用於選中狀態或強調
- **尺寸標準**:
  - 小型圖示: w-4 h-4（16px）- 用於行內圖示
  - 中型圖示: w-5 h-5（20px）- 用於按鈕和時間戳
  - 大型圖示: w-6 h-6（24px）- 用於主要操作按鈕
- **常用圖示**:
  - 上傳: CloudArrowUpIcon
  - 播放: PlayIcon
  - 暫停: PauseIcon
  - 時鐘/時間戳: ClockIcon
  - 檢查/選中: CheckIcon

**字體系統**：
- **字體家族**: Tailwind 預設系統字體堆疊（font-sans）
  - 實際渲染: ui-sans-serif, system-ui, sans-serif
  - 跨平台自動適配：macOS 使用 San Francisco，Windows 使用 Segoe UI，Android 使用 Roboto
- **字級階層**（Tailwind 預設值）:
  - **text-xs**（12px）: 次要資訊、標籤
  - **text-sm**（14px）: 輔助文字、時間戳
  - **text-base**（16px）: 正文、句子內容
  - **text-lg**（18px）: 文字疊加、重要內容
  - **text-xl**（20px）: 小標題、段落標題
  - **text-2xl**（24px）: 主標題、頁面標題
- **行高**（與字級搭配使用）:
  - leading-tight（1.25）: 標題、短文字
  - leading-normal（1.5）: 正文預設
  - leading-relaxed（1.625）: 長文字、提升可讀性
- **字重**:
  - font-normal（400）: 正文預設
  - font-medium（500）: 強調、選中狀態
  - font-semibold（600）: 小標題
  - font-bold（700）: 主標題、重要操作

### Technical Notes

- **Tailwind v4 新特性**: Tailwind v4 引入了新的配置方式和 CSS-first 架構，需注意與 v3 的差異，特別是顏色系統和 JIT 模式的變化
- **video.js 整合注意事項**: video.js 需要在 Vue 組件的 `onMounted` 中初始化，並在 `onUnmounted` 中清理，避免記憶體洩漏
- **片段播放實作**: 使用 `timeupdate` 事件監聽 + `seekTo` 方法實作片段播放，需注意 seek 頻率可能影響效能，考慮使用 `requestAnimationFrame` 優化
- **移動設備自動播放**: iOS Safari 限制自動播放，需要使用者手動觸發播放，UI 應提供明確的播放按鈕
- **響應式設計斷點**: 建議使用 Tailwind 的預設斷點（sm: 640px, md: 768px, lg: 1024px），桌面/移動分界線設在 768px
- **效能優化**: 編輯區可能包含數百個句子，考慮使用虛擬滾動（如 `vue-virtual-scroller`）優化長列表渲染
- **狀態管理最佳實踐**: Store 應該呼叫 Use Case 執行業務邏輯，而非直接操作 Repository，保持架構層次清晰
- **Composable 設計原則**: Composable 應該是無狀態的（狀態由 Store 管理），只封裝邏輯和計算屬性，提高可重用性
- **錯誤邊界**: 考慮在關鍵組件（如 VideoPlayer, EditingArea）添加錯誤邊界，捕獲並優雅處理執行時錯誤
- **測試策略**: 本階段完成後應撰寫組件測試（Vue Test Utils）和端到端測試（Playwright 或 Cypress），確保核心流程可靠
