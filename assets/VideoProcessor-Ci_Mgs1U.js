import{V as d}from"./VideoMetadata-CaYyTJPb.js";import{A as s}from"./ApplicationError-C71rmzjz.js";class t extends s{constructor(){super("Failed to extract video metadata","VIDEO_METADATA_EXTRACTION_FAILED"),Object.setPrototypeOf(this,t.prototype)}}class p{async extractMetadata(a){return new Promise((r,o)=>{try{const e=document.createElement("video");e.preload="metadata",e.onerror=()=>{URL.revokeObjectURL(e.src),o(new t)},e.onloadedmetadata=()=>{try{const c=new d(e.duration,e.videoWidth,e.videoHeight,a.type);URL.revokeObjectURL(e.src),r(c)}catch{URL.revokeObjectURL(e.src),o(new t)}},e.src=URL.createObjectURL(a)}catch{o(new t)}})}}export{p as VideoProcessor};
