import{S as o}from"./index-DYgSsspj.js";const s={NO_SESSION:"目前沒有活躍的會話",STORAGE_NOT_INITIALIZED:"儲存服務未初始化,請重新整理頁面",INDEXEDDB_DELETE_FAILED:"刪除資料時發生錯誤,請重試",UNKNOWN_ERROR:"發生未知錯誤,請聯絡技術支援"};function E(r){return r?/^session_\d+_[a-z0-9]+$/.test(r):!1}class S{constructor(e){this.browserStorage=e}async execute(){try{const e=this.browserStorage.getSessionId();if(!E(e))return{success:!1,error:s.NO_SESSION};try{await this.browserStorage.deleteSession(e)}catch(t){return console.error("Failed to delete IndexedDB data:",t),{success:!1,error:s.INDEXEDDB_DELETE_FAILED}}return sessionStorage.removeItem(o),{success:!0}}catch(e){return console.error("Unexpected error in DeleteSessionUseCase:",e),{success:!1,error:s.UNKNOWN_ERROR}}}}export{S as DeleteSessionUseCase};
