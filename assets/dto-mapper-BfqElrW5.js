import{V as r}from"./Video-CZb525El.js";import{T as m,a as n,S as o,b as c,c as l}from"./Transcript-CIaTKO-4.js";import{H as g}from"./Highlight-wkXLIbi7.js";import{V as T}from"./VideoMetadata-CaYyTJPb.js";class S{static videoEntityToPersistenceDto(e,t){return{id:e.id,file:e.file,metadata:{duration:e.metadata.duration,width:e.metadata.width,height:e.metadata.height,size:e.file.size,mimeType:e.metadata.format,name:e.file.name},savedAt:Date.now(),sessionId:t}}static videoPersistenceDtoToEntity(e){const t=new T(e.metadata.duration,e.metadata.width,e.metadata.height,e.metadata.mimeType);return new r(e.id,e.file,t,void 0)}static transcriptEntityToPersistenceDto(e,t){return{id:e.id,videoId:e.videoId,fullText:e.fullText,sections:e.sections.map(i=>({id:i.id,title:i.title,sentences:i.sentences.map(a=>({id:a.id,text:a.text,startTime:a.timeRange.start.seconds,endTime:a.timeRange.end.seconds,isHighlightSuggestion:a.isHighlightSuggestion}))})),savedAt:Date.now(),sessionId:t}}static transcriptPersistenceDtoToEntity(e){const t=e.sections.map(i=>{const a=i.sentences.map(s=>{const d=new m(n.fromSeconds(s.startTime),n.fromSeconds(s.endTime));return new o(s.id,s.text,d,s.isHighlightSuggestion)});return new c(i.id,i.title,a)});return new l(e.id,e.videoId,t,e.fullText)}static highlightEntityToPersistenceDto(e,t){const i=e.getSelectedSentenceIds();return{id:e.id,videoId:e.videoId,name:e.name,selectedSentenceIds:Array.from(i),selectionOrder:Array.from(i),savedAt:Date.now(),sessionId:t}}static highlightPersistenceDtoToEntity(e){const t=new g(e.id,e.videoId,e.name);for(const i of e.selectionOrder)t.addSentence(i);return t}}export{S as D};
